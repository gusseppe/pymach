{% extends "layouts/base_dashboard.html" %}

{%  block content_dashboard %}

    <form id="table_form" action="/analyzeData" method="post">
        <section class="widget">
            <header>
                <h4>Define your <span class="fw-semi-bold">data</span></h4>
                <div class="widget-controls">
                    <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>
                    <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>
                    <a data-widgster="close" title="Close" href="#"><i class="glyphicon glyphicon-remove"></i></a>
                </div>
            </header>
            <div class="widget-body">
                <div class="mt">
                    <table id="datatable-table" class="table table-striped table-hover">
                        <thead>
                        <tr>
                            {% for item in file.readline().split(',') %}
                                <th><input type="radio" name="class" value={{ item }} required> {{ item }}</th>
                            {% endfor %}
                        </tr>
                        </thead>
                        <tbody>
                            {% for line in file %}
                            <tr>
                                {% for item in line.split(',') %}
                                    <td>{{ item }}</td>
                                {% endfor %}
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            <input type="hidden" id="filename" name="filename" value={{ filename }} />
        </section>

        <div class="box-footer">
            <button type="submit" class="btn btn-primary">Next</button>
        </div>
    </form>

{% endblock %}

{% block specific_libraries %}
<!-- page specific libs -->
<script src="{{url_for('static', filename = 'vendor/underscore/underscore-min.js')}}"></script>
<script src="{{url_for('static', filename = 'vendor/backbone/backbone.js')}}"></script>
<script src="{{url_for('static', filename = 'vendor/backbone.paginator/lib/backbone.paginator.min.js')}}"></script>
<script src="{{url_for('static', filename = 'vendor/backgrid/lib/backgrid.js')}}"></script>
<script src="{{url_for('static', filename = 'vendor/backgrid-paginator/backgrid-paginator.js')}}"></script>
<script src="{{url_for('static', filename = 'vendor/datatables/media/js/jquery.dataTables.js')}}"></script>
<script src="{{url_for('static', filename = 'vendor/bootstrap-select/dist/js/bootstrap-select.min.js')}}"></script>

<!-- page specific js -->
<script src="{{url_for('static', filename = 'js/tables-dynamic.js')}}"></script>
{% endblock %}
